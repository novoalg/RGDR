<% title "Users - Real Good Dog Rescue" %>

    <%= javascript_include_tag "https://cdn.datatables.net/responsive/2.1.1/js/dataTables.responsive.min.js" %>
    <%= stylesheet_link_tag "https://cdn.datatables.net/responsive/2.1.1/css/responsive.dataTables.min.css" %>
<!--
    <= javascript_include_tag "//cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js" %>
    <= javascript_include_tag "https://cdn.datatables.net/1.10.13/js/dataTables.bootstrap4.min.js" %>
    <= stylesheet_link_tag "https://cdn.datatables.net/1.10.13/css/dataTables.bootstrap4.min.css" %>
-->
        <h1>Listing Users</h1>

        <table id="users_table" class="table table-striped table-bordered users-table" width="100%">
          <thead>
            <tr>
              <th>First Name</th>
              <th>Last Name</th>
              <th>Email</th>
              <th>Phone</th>
              <th></th>
              <th></th>
              <th></th>
            </tr>
          </thead>

          <tbody>
            <% @users.each do |user| %>
              <tr>
                <td><%= user.first_name %></td>
                <td><%= user.last_name %></td>
                <td><%= user.email %></td>
                <td><%= user.phone %></td>
                <td><%= link_to 'Profile', user %></td>
                <td><%= link_to 'Permissions', "user/#{user.id}/user_management" %></td>
                <td><%= link_to 'Ban User', ban_user_path(user), method: :post %></td>
              </tr>
            <% end %>
          </tbody>
        </table>

        <h1>Listing Banned Users</h1>
        <% if @banned_users.any? %>
            <table id="banned_users_table" class="table table-striped table-bordered users-table" width="100%">
              <thead>
                <tr>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Email</th>
                  <th>Phone</th>
                  <th></th>
                  <th></th>
                  <th></th>
                </tr>
              </thead>

              <tbody>
                <% @banned_users.each do |user| %>
                  <tr>
                    <td><%= user.first_name %></td>
                    <td><%= user.last_name %></td>
                    <td><%= user.email %></td>
                    <td><%= user.phone %></td>
                    <td><%= link_to 'Profile', user %></td>
                    <td><%= link_to 'Permissions', "user/#{user.id}/user_management" %></td>
                    <td><%= link_to 'Unban User', ban_user_path(user), method: :post %></td>
                  </tr>
                <% end %>
              </tbody>
            </table>
        <% end %>
<script>
$(document).ready(function() {
        $('#users_table').DataTable({
            responsive: true   
        });
        $("#users_table_length").css("color", "white");
        $("#users_table_filter").css("color", "white");
        $("#users_table_paginate").css("color", "white");
        $("thead").css("background-color", "white");
        $("tr:odd").css("background-color", "#95A4E6");
        $("tr").css("color", "black");
        $('#banned_users_table').DataTable({
            responsive: true   
        });
        $("#banned_users_table_length").css("color", "white");
        $("#banned_users_table_filter").css("color", "white");
        $("#banned_users_table_paginate").css("color", "white");
        $("thead").css("background-color", "white");
        $("tr:odd").css("background-color", "#95A4E6");
        $("tr").css("color", "black");

} );
</script>
